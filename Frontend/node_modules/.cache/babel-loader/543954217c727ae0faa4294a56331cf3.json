{"remainingRequest":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Graham\\Desktop\\frontend\\src\\views\\teacher\\QuestionManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Graham\\Desktop\\frontend\\src\\views\\teacher\\QuestionManagement.vue","mtime":1620097894000},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621157932554},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1621157932471},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621157932554},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1621157949579}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6L1VzZXJzL0dyYWhhbS9EZXNrdG9wL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvR3JhaGFtL0Rlc2t0b3AvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgQmFja0NhcmQgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9CYWNrQ2FyZCc7CmltcG9ydCBRdWVzdGlvblJvdyBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL1F1ZXN0aW9uUm93JzsKaW1wb3J0IEN1c3RvbUJ1dHRvbiBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL0N1c3RvbUJ1dHRvbic7CmltcG9ydCBVbml0VGl0bGUgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9Vbml0VGl0bGUnOwppbXBvcnQgeyBhcGlFeGVjdXRvciB9IGZyb20gJ0AvYXBpJzsKaW1wb3J0IHsgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1F1ZXN0aW9uTWFuYWdlbWVudCcsCiAgY29tcG9uZW50czogewogICAgQmFja0NhcmQ6IEJhY2tDYXJkLAogICAgVW5pdFRpdGxlOiBVbml0VGl0bGUsCiAgICBRdWVzdGlvblJvdzogUXVlc3Rpb25Sb3csCiAgICBDdXN0b21CdXR0b246IEN1c3RvbUJ1dHRvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVuaXQ6ICcnLAogICAgICB0aXRsZTogJycsCiAgICAgIGlkOiAwLAogICAgICBpc1NlbnQ6IGZhbHNlLAogICAgICBxdWVzdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKHsKICAgIHVwZGF0ZVBvcHVwOiAncG9wdXAvdXBkYXRlUG9wdXAnCiAgfSkpLCB7fSwgewogICAgZ29UbzogZnVuY3Rpb24gZ29UbyhwYXRoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHBhdGgpOwogICAgfSwKICAgIHNlbmQ6IGZ1bmN0aW9uIHNlbmQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzLmlzU2VudCA9IHRydWU7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBhcGlFeGVjdXRvci5zZXRRdWVzdGlvblNlbnQoX3RoaXMuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVQb3B1cCh7CiAgICAgICAgICAgICAgICAgIHBvcHVwVGV4dDogJ+mAgeWHuuaIkOWKnycsCiAgICAgICAgICAgICAgICAgIGltZ1NyYzogJy9pbWcvc2VsZWN0aW9uLnN2ZycKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVzZXRRdWVzdGlvbnM6IGZ1bmN0aW9uIHJlc2V0UXVlc3Rpb25zKHF1ZXN0aW9ucykgewogICAgICByZXR1cm4gcXVlc3Rpb25zLm1hcChmdW5jdGlvbiAocXVlc3Rpb24pIHsKICAgICAgICB2YXIgb3B0aW9ucyA9IFsiQSAiLmNvbmNhdChxdWVzdGlvbi5vcHRpb25BKSwgIkIgIi5jb25jYXQocXVlc3Rpb24ub3B0aW9uQiksICJDICIuY29uY2F0KHF1ZXN0aW9uLm9wdGlvbkMpLCAiRCAiLmNvbmNhdChxdWVzdGlvbi5vcHRpb25EKV07CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIGlkOiBxdWVzdGlvbi5pZCwKICAgICAgICAgIGFuYWx5c2lzOiBxdWVzdGlvbi5hbmFseXplLAogICAgICAgICAgcXVlc3Rpb246IHF1ZXN0aW9uLnF1ZXN0aW9uLAogICAgICAgICAgYW5zd2VyOiBxdWVzdGlvbi5xdWVzdGlvbkFuc3dlciwKICAgICAgICAgIHNob3dBbmFseXNpczogdHJ1ZSwKICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMKICAgICAgICB9OwogICAgICB9KTsKICAgIH0sCiAgICB0cmFuc2Zvcm1Cb29sZWFuOiBmdW5jdGlvbiB0cmFuc2Zvcm1Cb29sZWFuKGJvb2xlYW4pIHsKICAgICAgcmV0dXJuIGJvb2xlYW4gPT09IDEgPyB0cnVlIDogZmFsc2U7CiAgICB9CiAgfSksCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMyLmlkID0gX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBhcGlFeGVjdXRvci5nZXRRdWVzdGlvbnMoX3RoaXMyLmlkKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF90aGlzMi51bml0ID0gIlVuaXQgIi5jb25jYXQoX3RoaXMyLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgICAgICAgICAgIF90aGlzMi50aXRsZSA9IHJlc3BvbnNlLm5hbWU7CiAgICAgICAgICAgICAgX3RoaXMyLnF1ZXN0aW9ucyA9IF90aGlzMi5yZXNldFF1ZXN0aW9ucyhyZXNwb25zZS5xdWVzdGlvbnMpOwogICAgICAgICAgICAgIF90aGlzMi5pc1NlbnQgPSBfdGhpczIudHJhbnNmb3JtQm9vbGVhbihyZXNwb25zZS5pc1NlbmQpOwoKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["QuestionManagement.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA,OAAA,QAAA,MAAA,8BAAA;AACA,OAAA,WAAA,MAAA,iCAAA;AACA,OAAA,YAAA,MAAA,kCAAA;AACA,OAAA,SAAA,MAAA,+BAAA;AACA,SAAA,WAAA,QAAA,OAAA;AACA,SAAA,UAAA,QAAA,MAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,oBADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,QAAA,EAAA,QAAA;AAAA,IAAA,SAAA,EAAA,SAAA;AAAA,IAAA,WAAA,EAAA,WAAA;AAAA,IAAA,YAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,EAAA,EAAA,CAHA;AAIA,MAAA,MAAA,EAAA,KAJA;AAKA,MAAA,SAAA,EAAA;AALA,KAAA;AAOA,GAXA;AAYA,EAAA,OAAA,kCACA,UAAA,CAAA;AACA,IAAA,WAAA,EAAA;AADA,GAAA,CADA;AAIA,IAAA,IAJA,gBAIA,IAJA,EAIA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,IAAA;AACA,KANA;AAOA,IAAA,IAPA,kBAOA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AADA;AAAA,uBAEA,WAAA,CAAA,eAAA,CAAA,KAAA,CAAA,EAAA,CAFA;;AAAA;AAGA,gBAAA,KAAA,CAAA,WAAA,CAAA;AACA,kBAAA,SAAA,EAAA,MADA;AAEA,kBAAA,MAAA,EAAA;AAFA,iBAAA;;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KAdA;AAeA,IAAA,cAfA,0BAeA,SAfA,EAeA;AACA,aAAA,SAAA,CAAA,GAAA,CAAA,UAAA,QAAA,EAAA;AACA,YAAA,OAAA,GAAA,aACA,QAAA,CAAA,OADA,eAEA,QAAA,CAAA,OAFA,eAGA,QAAA,CAAA,OAHA,eAIA,QAAA,CAAA,OAJA,EAAA;AAMA,eAAA;AACA,UAAA,EAAA,EAAA,QAAA,CAAA,EADA;AAEA,UAAA,QAAA,EAAA,QAAA,CAAA,OAFA;AAGA,UAAA,QAAA,EAAA,QAAA,CAAA,QAHA;AAIA,UAAA,MAAA,EAAA,QAAA,CAAA,cAJA;AAKA,UAAA,YAAA,EAAA,IALA;AAMA,UAAA,OAAA,EAAA;AANA,SAAA;AAQA,OAfA,CAAA;AAgBA,KAhCA;AAiCA,IAAA,gBAjCA,4BAiCA,OAjCA,EAiCA;AACA,aAAA,OAAA,KAAA,CAAA,GAAA,IAAA,GAAA,KAAA;AACA;AAnCA,IAZA;AAiDA,EAAA,OAjDA,qBAiDA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,cAAA,MAAA,CAAA,EAAA,GAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AADA;AAAA,qBAGA,WAAA,CAAA,YAAA,CAAA,MAAA,CAAA,EAAA,CAHA;;AAAA;AAGA,cAAA,QAHA;AAIA,cAAA,MAAA,CAAA,IAAA,kBAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CAAA,EAAA;AACA,cAAA,MAAA,CAAA,KAAA,GAAA,QAAA,CAAA,IAAA;AACA,cAAA,MAAA,CAAA,SAAA,GAAA,MAAA,CAAA,cAAA,CAAA,QAAA,CAAA,SAAA,CAAA;AACA,cAAA,MAAA,CAAA,MAAA,GAAA,MAAA,CAAA,gBAAA,CAAA,QAAA,CAAA,MAAA,CAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAzDA,CAAA","sourcesContent":["<template>\r\n    <back-card\r\n        class=\"mt-16 mx-auto\"\r\n        action-text=\"返回課程管理\"\r\n        @button-click=\"goTo('/teacher/course-management')\"\r\n    >\r\n        <div class=\"pa-14\">\r\n            <unit-title :unit=\"unit\" :title=\"title\"></unit-title>\r\n            <div>\r\n                <question-row\r\n                    v-for=\"(question, index) in questions\"\r\n                    :readonly=\"true\"\r\n                    :key=\"`question-${index}`\"\r\n                    :question=\"question.question\"\r\n                    :options=\"question.options\"\r\n                    :answer=\"question.answer\"\r\n                >\r\n                    <div\r\n                        v-if=\"question.showAnalysis\"\r\n                        class=\"primary lighten-1 pa-5\"\r\n                    >\r\n                        <span class=\"warning--text font-weight-medium\">\r\n                            {{ question.analysis }}\r\n                        </span>\r\n                    </div>\r\n                </question-row>\r\n            </div>\r\n            <div class=\"d-flex justify-end\">\r\n                <custom-button\r\n                    v-if=\"!isSent\"\r\n                    text=\"送出問題\"\r\n                    width=\"130\"\r\n                    @click=\"send\"\r\n                ></custom-button>\r\n            </div>\r\n        </div>\r\n    </back-card>\r\n</template>\r\n\r\n<script>\r\nimport BackCard from '@/components/common/BackCard';\r\nimport QuestionRow from '@/components/common/QuestionRow';\r\nimport CustomButton from '@/components/common/CustomButton';\r\nimport UnitTitle from '@/components/common/UnitTitle';\r\nimport { apiExecutor } from '@/api';\r\nimport { mapActions } from 'vuex';\r\n\r\nexport default {\r\n    name: 'QuestionManagement',\r\n    components: { BackCard, UnitTitle, QuestionRow, CustomButton },\r\n    data() {\r\n        return {\r\n            unit: '',\r\n            title: '',\r\n            id: 0,\r\n            isSent: false,\r\n            questions: [],\r\n        };\r\n    },\r\n    methods: {\r\n        ...mapActions({\r\n            updatePopup: 'popup/updatePopup',\r\n        }),\r\n        goTo(path) {\r\n            this.$router.push(path);\r\n        },\r\n        async send() {\r\n            this.isSent = true;\r\n            await apiExecutor.setQuestionSent(this.id);\r\n            this.updatePopup({\r\n                popupText: '送出成功',\r\n                imgSrc: '/img/selection.svg',\r\n            });\r\n        },\r\n        resetQuestions(questions) {\r\n            return questions.map((question) => {\r\n                const options = [\r\n                    `A ${question.optionA}`,\r\n                    `B ${question.optionB}`,\r\n                    `C ${question.optionC}`,\r\n                    `D ${question.optionD}`,\r\n                ];\r\n                return {\r\n                    id: question.id,\r\n                    analysis: question.analyze,\r\n                    question: question.question,\r\n                    answer: question.questionAnswer,\r\n                    showAnalysis: true,\r\n                    options,\r\n                };\r\n            });\r\n        },\r\n        transformBoolean(boolean) {\r\n            return boolean === 1 ? true : false;\r\n        },\r\n    },\r\n    async mounted() {\r\n        this.id = this.$route.params.id;\r\n\r\n        const response = await apiExecutor.getQuestions(this.id);\r\n        this.unit = `Unit ${this.$route.params.id}`;\r\n        this.title = response.name;\r\n        this.questions = this.resetQuestions(response.questions);\r\n        this.isSent = this.transformBoolean(response.isSend);\r\n    },\r\n};\r\n</script>\r\n"],"sourceRoot":"src/views/teacher"}]}
{"remainingRequest":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Graham\\Desktop\\frontend\\src\\views\\teacher\\StudentDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Graham\\Desktop\\frontend\\src\\views\\teacher\\StudentDetail.vue","mtime":1620097894000},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621157932554},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1621157932471},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621157932554},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1621157949579}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvR3JhaGFtL0Rlc2t0b3AvZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9HcmFoYW0vRGVza3RvcC9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBCYWNrQ2FyZCBmcm9tICdAL2NvbXBvbmVudHMvY29tbW9uL0JhY2tDYXJkJzsKaW1wb3J0IEN1c3RvbVRhYmxlIGZyb20gJ0AvY29tcG9uZW50cy9jb21tb24vQ3VzdG9tVGFibGUnOwppbXBvcnQgU3R1ZGVudEluZm9Sb3cgZnJvbSAnQC9jb21wb25lbnRzL3RlYWNoZXIvU3R1ZGVudEluZm9Sb3cnOwppbXBvcnQgU2NvcmVMaW5lQ2hhcnQgZnJvbSAnQC9jb21wb25lbnRzL2NoYXJ0L1Njb3JlTGluZUNoYXJ0JzsKaW1wb3J0IHsgYXBpRXhlY3V0b3IgfSBmcm9tICdAL2FwaSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnU3R1ZGVudERldGFpbCcsCiAgY29tcG9uZW50czogewogICAgQmFja0NhcmQ6IEJhY2tDYXJkLAogICAgU2NvcmVMaW5lQ2hhcnQ6IFNjb3JlTGluZUNoYXJ0LAogICAgU3R1ZGVudEluZm9Sb3c6IFN0dWRlbnRJbmZvUm93LAogICAgQ3VzdG9tVGFibGU6IEN1c3RvbVRhYmxlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaW5mb3M6IHt9LAogICAgICBhdmVyYWdlOiAwLAogICAgICBjaGFydERhdGE6IHsKICAgICAgICBjb2x1bW5zOiBbJ3VuaXQnLCAnc2NvcmUnXSwKICAgICAgICByb3dzOiBbXQogICAgICB9LAogICAgICBoZWFkZXJzOiBbewogICAgICAgIHRleHQ6ICfllq7lhYMnLAogICAgICAgIHZhbHVlOiAndW5pdCcsCiAgICAgICAgc29ydGFibGU6IGZhbHNlCiAgICAgIH0sIHsKICAgICAgICB0ZXh0OiAn5Zau5YWD5ZCN56ixJywKICAgICAgICB2YWx1ZTogJ3RpdGxlJywKICAgICAgICBzb3J0YWJsZTogZmFsc2UKICAgICAgfSwgewogICAgICAgIHRleHQ6ICfliIbmlbgnLAogICAgICAgIHZhbHVlOiAnc2NvcmUnLAogICAgICAgIHNvcnRhYmxlOiBmYWxzZQogICAgICB9XSwKICAgICAgc2NvcmVzOiBbXQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdvVG86IGZ1bmN0aW9uIGdvVG8ocGF0aCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgcGF0aDogcGF0aAogICAgICB9KTsKICAgIH0sCiAgICB0cmFuc2Zvcm1DaGFydERhdGE6IGZ1bmN0aW9uIHRyYW5zZm9ybUNoYXJ0RGF0YShzY29yZXMpIHsKICAgICAgdmFyIHNvcnRlZFNjb3JlcyA9IHNjb3Jlcy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgcmV0dXJuIGEudW5pdCAtIGIudW5pdDsKICAgICAgfSk7CiAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMuY2hhcnREYXRhKSwge30sIHsKICAgICAgICByb3dzOiBzb3J0ZWRTY29yZXMubWFwKGZ1bmN0aW9uICh1bml0U2NvcmUpIHsKICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVuaXQ6ICJVbml0ICIuY29uY2F0KHVuaXRTY29yZS51bml0KSwKICAgICAgICAgICAgc2NvcmU6IHVuaXRTY29yZS5zY29yZQogICAgICAgICAgfTsKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBzZXRTY29yZXM6IGZ1bmN0aW9uIHNldFNjb3JlcyhzY29yZXMpIHsKICAgICAgcmV0dXJuIHNjb3Jlcy5tYXAoZnVuY3Rpb24gKHNjb3JlKSB7CiAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgc2NvcmUpLCB7fSwgewogICAgICAgICAgdW5pdDogIlVuaXQgIi5jb25jYXQoc2NvcmUudW5pdCkKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2V0U3R1ZGVudEluZm86IGZ1bmN0aW9uIHNldFN0dWRlbnRJbmZvKGluZm9zKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgaWQ6IGluZm9zLnN0dWRlbnRJRCwKICAgICAgICBuYW1lOiBpbmZvcy5zdHVkZW50TmFtZSwKICAgICAgICBkZXBhcnRtZW50OiBpbmZvcy5kZXBhcnRtZW50LAogICAgICAgIGF2ZXJhZ2U6IE1hdGguZmxvb3IoaW5mb3MuYXZlcmFnZSkKICAgICAgfTsKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBzdHVkZW50SWQsIHJlc3BvbnNlLCBzY29yZXM7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBzdHVkZW50SWQgPSBfdGhpcy4kcm91dGUucGFyYW1zLmlkOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBhcGlFeGVjdXRvci5nZXRTdHVkZW50RGV0YWlsKHN0dWRlbnRJZCk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIHNjb3JlcyA9IHJlc3BvbnNlLnNjb3JlczsKICAgICAgICAgICAgICBfdGhpcy5jaGFydERhdGEgPSBfdGhpcy50cmFuc2Zvcm1DaGFydERhdGEoc2NvcmVzKTsKICAgICAgICAgICAgICBfdGhpcy5pbmZvcyA9IF90aGlzLnNldFN0dWRlbnRJbmZvKHJlc3BvbnNlKTsKICAgICAgICAgICAgICBfdGhpcy5zY29yZXMgPSBfdGhpcy5zZXRTY29yZXMoc2NvcmVzKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["StudentDetail.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <back-card\r\n        class=\"mt-16 mx-auto\"\r\n        action-text=\"返回學生列表\"\r\n        @button-click=\"goTo('/teacher/student-list')\"\r\n    >\r\n        <div class=\"px-10 pt-10\">\r\n            <student-info-row :infos=\"infos\"></student-info-row>\r\n        </div>\r\n        <div class=\"px-10\">\r\n            <score-line-chart :data=\"chartData\"></score-line-chart>\r\n        </div>\r\n        <div class=\"pb-10 px-10\">\r\n            <custom-table :headers=\"headers\" :items=\"scores\"></custom-table>\r\n        </div>\r\n    </back-card>\r\n</template>\r\n\r\n<script>\r\nimport BackCard from '@/components/common/BackCard';\r\nimport CustomTable from '@/components/common/CustomTable';\r\nimport StudentInfoRow from '@/components/teacher/StudentInfoRow';\r\nimport ScoreLineChart from '@/components/chart/ScoreLineChart';\r\nimport { apiExecutor } from '@/api';\r\n\r\nexport default {\r\n    name: 'StudentDetail',\r\n    components: { BackCard, ScoreLineChart, StudentInfoRow, CustomTable },\r\n    data() {\r\n        return {\r\n            infos: {},\r\n            average: 0,\r\n            chartData: {\r\n                columns: ['unit', 'score'],\r\n                rows: [],\r\n            },\r\n            headers: [\r\n                { text: '單元', value: 'unit', sortable: false },\r\n                { text: '單元名稱', value: 'title', sortable: false },\r\n                { text: '分數', value: 'score', sortable: false },\r\n            ],\r\n            scores: [],\r\n        };\r\n    },\r\n    methods: {\r\n        goTo(path) {\r\n            this.$router.push({ path });\r\n        },\r\n        transformChartData(scores) {\r\n            const sortedScores = scores.sort((a, b) => {\r\n                return a.unit - b.unit;\r\n            });\r\n            return {\r\n                ...this.chartData,\r\n                rows: sortedScores.map((unitScore) => {\r\n                    return {\r\n                        unit: `Unit ${unitScore.unit}`,\r\n                        score: unitScore.score,\r\n                    };\r\n                }),\r\n            };\r\n        },\r\n        setScores(scores) {\r\n            return scores.map((score) => {\r\n                return { ...score, unit: `Unit ${score.unit}` };\r\n            });\r\n        },\r\n        setStudentInfo(infos) {\r\n            return {\r\n                id: infos.studentID,\r\n                name: infos.studentName,\r\n                department: infos.department,\r\n                average: Math.floor(infos.average),\r\n            };\r\n        },\r\n    },\r\n    async created() {\r\n        const studentId = this.$route.params.id;\r\n\r\n        const response = await apiExecutor.getStudentDetail(studentId);\r\n        const scores = response.scores;\r\n\r\n        this.chartData = this.transformChartData(scores);\r\n        this.infos = this.setStudentInfo(response);\r\n        this.scores = this.setScores(scores);\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"],"sourceRoot":"src/views/teacher"}]}
{"remainingRequest":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Graham\\Desktop\\frontend\\src\\views\\teacher\\UnitOverview.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Graham\\Desktop\\frontend\\src\\views\\teacher\\UnitOverview.vue","mtime":1621140817000},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621157932554},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1621157932471},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1621157932554},{"path":"C:\\Users\\Graham\\Desktop\\frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":1621157949579}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWFpbkNhcmQgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9NYWluQ2FyZCc7DQppbXBvcnQgQ3VzdG9tVGFibGUgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9DdXN0b21UYWJsZSc7DQppbXBvcnQgU2NvcmVMaW5lQ2hhcnQgZnJvbSAnQC9jb21wb25lbnRzL2NoYXJ0L1Njb3JlTGluZUNoYXJ0JzsNCmltcG9ydCBCdXR0b25Sb3cgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1vbi9CdXR0b25Sb3cnOw0KaW1wb3J0IHsgYXBpRXhlY3V0b3IgfSBmcm9tICdAL2FwaSc7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnU3R1ZGVudERldGFpbCcsDQogICAgY29tcG9uZW50czogeyBNYWluQ2FyZCwgQ3VzdG9tVGFibGUsIFNjb3JlTGluZUNoYXJ0LCBCdXR0b25Sb3cgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgYWxsVW5pdHM6IFtdLA0KICAgICAgICAgICAgZGlmZmljdWx0VW5pdHM6IFtdLA0KICAgICAgICAgICAgbWlkZGxlVW5pdHM6IFtdLA0KICAgICAgICAgICAgZWFzeVVuaXRzOiBbXSwNCiAgICAgICAgICAgIGNoYXJ0RGF0YTogew0KICAgICAgICAgICAgICAgIGNvbHVtbnM6IFsndW5pdCcsICdhdmcnXSwNCiAgICAgICAgICAgICAgICByb3dzOiBbXSwNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBidG5JbmZvczogWw0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+WFqOmDqCcsDQogICAgICAgICAgICAgICAgICAgIGxldmVsOiAnYWxsJywNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+mboycsDQogICAgICAgICAgICAgICAgICAgIGxldmVsOiAnZGlmZmljdWx0JywNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+S4rScsDQogICAgICAgICAgICAgICAgICAgIGxldmVsOiAnbWlkZGxlJywNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdGV4dDogJ+aYkycsDQogICAgICAgICAgICAgICAgICAgIGxldmVsOiAnZWFzeScsDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIF0sDQogICAgICAgICAgICBjdXJyZW50Q2F0OiAnYWxsJywNCiAgICAgICAgICAgIGhlYWRlcnM6IFsNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICfllq7lhYMnLCB2YWx1ZTogJ3VuaXQnLCBzb3J0YWJsZTogZmFsc2UgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICfllq7lhYPlkI3nqLEnLCB2YWx1ZTogJ25hbWUnLCBzb3J0YWJsZTogZmFsc2UgfSwNCiAgICAgICAgICAgICAgICB7IHRleHQ6ICflubPlnYfliIbmlbgnLCB2YWx1ZTogJ2F2ZycsIHNvcnRhYmxlOiBmYWxzZSB9LA0KICAgICAgICAgICAgXSwNCiAgICAgICAgfTsNCiAgICB9LA0KICAgIGNvbXB1dGVkOiB7DQogICAgICAgIGN1cnJlbnRVbml0czogew0KICAgICAgICAgICAgZ2V0KCkgew0KICAgICAgICAgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50Q2F0KSB7DQogICAgICAgICAgICAgICAgICAgIGNhc2UgJ2RpZmZpY3VsdCc6DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kaWZmaWN1bHRVbml0czsNCiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbWlkZGxlJzoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm1pZGRsZVVuaXRzOw0KICAgICAgICAgICAgICAgICAgICBjYXNlICdlYXN5JzoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmVhc3lVbml0czsNCiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmFsbFVuaXRzOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBzZXQoKSB7fSwNCiAgICAgICAgfSwNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgZ29UbyhwYXRoKSB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaChwYXRoKTsNCiAgICAgICAgfSwNCiAgICAgICAgY2F0ZWdvcml6ZVVuaXRzKHJlc3BvbnNlKSB7DQogICAgICAgICAgICB0aGlzLmRpZmZpY3VsdFVuaXRzID0gdGhpcy5tb2RpZnlVbml0cyhyZXNwb25zZS5kaWZmaWN1bHQpOw0KICAgICAgICAgICAgdGhpcy5taWRkbGVVbml0cyA9IHRoaXMubW9kaWZ5VW5pdHMocmVzcG9uc2UubWlkZGxlKTsNCiAgICAgICAgICAgIHRoaXMuZWFzeVVuaXRzID0gdGhpcy5tb2RpZnlVbml0cyhyZXNwb25zZS5lYXN5KTsNCg0KICAgICAgICAgICAgdGhpcy5hbGxVbml0cyA9IHRoaXMuc29ydFVuaXRzKFsNCiAgICAgICAgICAgICAgICAuLi50aGlzLmRpZmZpY3VsdFVuaXRzLA0KICAgICAgICAgICAgICAgIC4uLnRoaXMubWlkZGxlVW5pdHMsDQogICAgICAgICAgICAgICAgLi4udGhpcy5lYXN5VW5pdHMsDQogICAgICAgICAgICBdKTsNCiAgICAgICAgfSwNCiAgICAgICAgbW9kaWZ5VW5pdHModW5pdHMpIHsNCiAgICAgICAgICAgIHJldHVybiB1bml0cy5tYXAoKHVuaXQpID0+IHsNCiAgICAgICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgICAgICAuLi51bml0LA0KICAgICAgICAgICAgICAgICAgICB1bml0OiBgVW5pdCAke3VuaXQuaWR9YCwNCiAgICAgICAgICAgICAgICAgICAgYXZnOiBNYXRoLmZsb29yKHVuaXQudW5pdEF2ZyksDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgICAgICB0cmFuc2Zvcm1DaGFydERhdGEoZGF0YXNldCkgew0KICAgICAgICAgICAgY29uc3Qgc29ydGVkRGF0YXNldCA9IHRoaXMuc29ydFVuaXRzKGRhdGFzZXQpOw0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAuLi50aGlzLmNoYXJ0RGF0YSwNCiAgICAgICAgICAgICAgICByb3dzOiB0aGlzLm1vZGlmeVVuaXRzKHNvcnRlZERhdGFzZXQpLA0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSwNCiAgICAgICAgc2VsZWN0Q2F0KGxldmVsKSB7DQogICAgICAgICAgICB0aGlzLmN1cnJlbnRDYXQgPSBsZXZlbDsNCiAgICAgICAgfSwNCiAgICAgICAgc29ydFVuaXRzKGRhdGFzZXQpIHsNCiAgICAgICAgICAgIHJldHVybiBbLi4uZGF0YXNldF0uc29ydCgoYSwgYikgPT4gew0KICAgICAgICAgICAgICAgIHJldHVybiBhLmlkIC0gYi5pZDsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9LA0KICAgIH0sDQogICAgYXN5bmMgbW91bnRlZCgpIHsNCiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlFeGVjdXRvci5nZXRVbml0T3ZlcnZpZXcoKTsNCiAgICAgICAgdGhpcy5jYXRlZ29yaXplVW5pdHMocmVzcG9uc2UpOw0KICAgICAgICB0aGlzLmN1cnJlbnRVbml0cyA9IHRoaXMuYWxsVW5pdHM7DQogICAgICAgIHRoaXMuY2hhcnREYXRhID0gdGhpcy50cmFuc2Zvcm1DaGFydERhdGEodGhpcy5hbGxVbml0cyk7DQogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQ0KICAgIH0sDQp9Ow0K"},{"version":3,"sources":["UnitOverview.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UnitOverview.vue","sourceRoot":"src/views/teacher","sourcesContent":["<template>\r\n    <div class=\"pt-16\">\r\n        <main-card\r\n            class=\"mx-auto\"\r\n            title=\"答題狀況\"\r\n            en-title=\"Answering Situation\"\r\n            img-src=\"/img/admin.svg\"\r\n        >\r\n            <template>\r\n                <div class=\"mt-n10 mb-n5 px-5\">\r\n                    <score-line-chart :data=\"chartData\"></score-line-chart>\r\n                </div>\r\n                <div>\r\n                    <button-row\r\n                        :btn-infos=\"btnInfos\"\r\n                        :current-btn=\"currentCat\"\r\n                        @button-click=\"selectCat\"\r\n                    ></button-row>\r\n                </div>\r\n                <div class=\"pt-2\">\r\n                    <custom-table\r\n                        :headers=\"headers\"\r\n                        :items=\"currentUnits\"\r\n                        :has-action=\"true\"\r\n                        @button-click=\"\r\n                            goTo(`/teacher/question-answers/${$event.id}`)\r\n                        \"\r\n                    ></custom-table>\r\n                </div>\r\n            </template>\r\n        </main-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MainCard from '@/components/common/MainCard';\r\nimport CustomTable from '@/components/common/CustomTable';\r\nimport ScoreLineChart from '@/components/chart/ScoreLineChart';\r\nimport ButtonRow from '@/components/common/ButtonRow';\r\nimport { apiExecutor } from '@/api';\r\n\r\nexport default {\r\n    name: 'StudentDetail',\r\n    components: { MainCard, CustomTable, ScoreLineChart, ButtonRow },\r\n    data() {\r\n        return {\r\n            allUnits: [],\r\n            difficultUnits: [],\r\n            middleUnits: [],\r\n            easyUnits: [],\r\n            chartData: {\r\n                columns: ['unit', 'avg'],\r\n                rows: [],\r\n            },\r\n            btnInfos: [\r\n                {\r\n                    text: '全部',\r\n                    level: 'all',\r\n                },\r\n                {\r\n                    text: '難',\r\n                    level: 'difficult',\r\n                },\r\n                {\r\n                    text: '中',\r\n                    level: 'middle',\r\n                },\r\n                {\r\n                    text: '易',\r\n                    level: 'easy',\r\n                },\r\n            ],\r\n            currentCat: 'all',\r\n            headers: [\r\n                { text: '單元', value: 'unit', sortable: false },\r\n                { text: '單元名稱', value: 'name', sortable: false },\r\n                { text: '平均分數', value: 'avg', sortable: false },\r\n            ],\r\n        };\r\n    },\r\n    computed: {\r\n        currentUnits: {\r\n            get() {\r\n                switch (this.currentCat) {\r\n                    case 'difficult':\r\n                        return this.difficultUnits;\r\n                    case 'middle':\r\n                        return this.middleUnits;\r\n                    case 'easy':\r\n                        return this.easyUnits;\r\n                    default:\r\n                        return this.allUnits;\r\n                }\r\n            },\r\n            set() {},\r\n        },\r\n    },\r\n    methods: {\r\n        goTo(path) {\r\n            this.$router.push(path);\r\n        },\r\n        categorizeUnits(response) {\r\n            this.difficultUnits = this.modifyUnits(response.difficult);\r\n            this.middleUnits = this.modifyUnits(response.middle);\r\n            this.easyUnits = this.modifyUnits(response.easy);\r\n\r\n            this.allUnits = this.sortUnits([\r\n                ...this.difficultUnits,\r\n                ...this.middleUnits,\r\n                ...this.easyUnits,\r\n            ]);\r\n        },\r\n        modifyUnits(units) {\r\n            return units.map((unit) => {\r\n                return {\r\n                    ...unit,\r\n                    unit: `Unit ${unit.id}`,\r\n                    avg: Math.floor(unit.unitAvg),\r\n                };\r\n            });\r\n        },\r\n        transformChartData(dataset) {\r\n            const sortedDataset = this.sortUnits(dataset);\r\n            return {\r\n                ...this.chartData,\r\n                rows: this.modifyUnits(sortedDataset),\r\n            };\r\n        },\r\n        selectCat(level) {\r\n            this.currentCat = level;\r\n        },\r\n        sortUnits(dataset) {\r\n            return [...dataset].sort((a, b) => {\r\n                return a.id - b.id;\r\n            });\r\n        },\r\n    },\r\n    async mounted() {\r\n        const response = await apiExecutor.getUnitOverview();\r\n        this.categorizeUnits(response);\r\n        this.currentUnits = this.allUnits;\r\n        this.chartData = this.transformChartData(this.allUnits);\r\n        console.log(response)\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>\r\n"]}]}